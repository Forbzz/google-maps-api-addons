/**
 * @license Copyright 2011 â€” 2015 Martin Matysiak.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t,i){if("object"==typeof module&&"object"==typeof module.exports)module.exports=i();else if("function"==typeof define&&"object"==typeof define.amd)define(["goog!maps,3,other_params:[sensor=false&libraries=visualization]"],i);else{if("object"!=typeof google||"object"!=typeof google.maps)throw new Error("SimpleMarker requires google maps library");t.SimpleMarker=i()}}("undefined"!=typeof window?window:this,function(){var t=function(t){t=t||{},this.anchor_=t.anchor||new google.maps.Point(16,16),this.bounds_=[],this.className_=t.className||null,this.icon_=t.icon||null,this.id_=t.id||null,this.map_=t.map||null,this.marker_=null,this.position_=t.position||new google.maps.LatLng(0,0),this.size_=t.size||new google.maps.Size(32,32),this.title_=t.title||"",this.visible_=t.visible||!0,this.setMap(this.map_)};return t.prototype=new google.maps.OverlayView,t.prototype.onAdd=function(){var t=this,i=document.createElement("div");i.style.position="absolute",i.style.cursor="pointer",i.style.width=this.size_.width+"px",i.style.height=this.size_.height+"px",i.style.display=this.visible_?"block":"none",this.id_&&(i.id=this.id_),this.className_&&(i.className=this.className_),this.title_&&(i.title=this.title_),this.icon_&&(i.style.backgroundImage="url("+this.icon_+")"),this.id_||this.className_||this.icon_||(i.style.backgroundImage="url(https://www.google.com/intl/en_us/mapfiles/ms/micons/red-dot.png)"),this.getPanes().overlayImage.appendChild(i),this.marker_=i;var e=function(i){google.maps.event.trigger(t,"click"),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()};i.attachEvent?i.attachEvent("onclick",e):i.addEventListener("click",e,!1)},t.prototype.onRemove=function(){this.marker_.parentNode.removeChild(this.marker_),this.marker_=null},t.prototype.draw=function(){var t=this.getProjection(),i=t.fromLatLngToDivPixel(this.position_);this.marker_.style.left=i.x-this.anchor_.x+"px",this.marker_.style.top=i.y-this.anchor_.y+"px"},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getBounds=function(i){if(!i){if(!this.map_)throw"Can't calculate bounds without a map specified";i=this.map_.getZoom()}if(!this.bounds_[i]){var e=t.getLatLngPerPixel(i);this.bounds_[i]=new google.maps.LatLngBounds(new google.maps.LatLng(this.position_.lat()+e.lat()*(this.anchor_.y-this.size_.height),this.position_.lng()-e.lng()*this.anchor_.x),new google.maps.LatLng(this.position_.lat()+e.lat()*this.anchor_.y,this.position_.lng()-e.lng()*(this.anchor_.x-this.size_.width)))}return this.bounds_[i]},t.prototype.getClassName=function(){return this.className_},t.prototype.getIcon=function(){return this.icon_},t.prototype.getId=function(){return this.id_},t.prototype.getPosition=function(){return this.position_},t.prototype.getSize=function(){return this.size_},t.prototype.getTitle=function(){return this.title_},t.prototype.getVisible=function(){return this.visible_},t.prototype.setAnchor=function(t){this.anchor_=t,this.draw()},t.prototype.setClassName=function(t){this.className_=t,this.marker_&&(this.marker_.className=t)},t.prototype.setIcon=function(t){this.icon_=t,this.marker_&&(this.marker_.style.backgroundImage=t?"url("+t+")":"")},t.prototype.setId=function(t){this.id_=t,this.marker_&&(this.marker_.id=t)},t.prototype.setPosition=function(t){this.position_=t,this.bounds_=[],this.draw()},t.prototype.setSize=function(t){this.size_=t,this.marker_&&(this.marker_.style.width=t.width+"px",this.marker_.style.height=t.height+"px",this.draw())},t.prototype.setTitle=function(t){this.title_=t,this.marker_&&(this.marker_.title=t)},t.prototype.setVisible=function(t){this.visible_=t,this.marker_&&(this.marker_.style.display=t?"block":"none")},t.getLatLngPerPixel=function(t){var i=360/(256*Math.pow(2,t)),e=2*i/Math.PI;return new google.maps.LatLng(e,i)},t});